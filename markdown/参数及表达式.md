这里介绍自定义界面支持的所有参数及表达式的书写规则
## 参数
### <span id="macro">宏变量</span>
- 单通道系统中宏变量用变量符号（#）和后面的变量号指定，例如#540
- 多通道系统的执行通道宏变量写法为 #540@Pxx，xx为通道号，省略@Pxx时为通道1
- 辅助通道宏变量为 #540@Axx，xx为辅助通道号
- 多通道系统中还可以使用宏变量的别名如#ABSOT[1]，代表1轴当前绝对坐标值，系统支持的宏变量别名及含义见V6多通道补充说明，也可在后面加入@Pxx或@Axx表示通道及索引

### <span  id="diagnose">诊断参数</span>
- 诊断参数包括K/D/T/C/X/Y/R/S/F/G区参数，分为位型和字节型两种
- 位型参数书写格式为"字母+参数号+位号"，例如K0.1为K区0号参数第1位
- 字节型数据可以根据需要设定数据类型，共6种，u8/u16/u32/s8/s16/s32，s表示有符号数，u表示无符号数，数字表示数据的位数，默认为u8。形式为xxx[type]，如F660[u16]，表示F区660号参数，参数类型为无符号16位
- K/D/F区中有部分参数是可写的，其余参数均是只读的。其中F区写入范围为F5200~F5231

### <span id="system">系统参数</span>
- 系统参数对应系统中参数页面中的参数，用P表示，分为位型和非位型两种
- 非位型参数用"P+参数号"表示，例如P11、P415-1
- 位型参数中非轴型参数用"P+参数号+位号"表示，例如P1.1。轴型参数将-n放到最后，例如，P405.0-1表示405-1号参数的第0位

### <span id="diy">自定义变量</span>
- KUI脚本可以自定义变量，自定义变量名称可以为小写字母或小写字母+数字，不支持大写字母，为了区别于系统数据，在定制界面的python文件中将自定义变量包含在大括号{ }内，形如{v1}，在KUI脚本中将变量名前面加上符号（#），作为一个普通宏变量使用，形如#v1。

### <span id="coor">坐标</span>
- 在coor控件中坐标值直接用轴名表示，如X
- 在表达式中用X[abs]代表X轴绝对坐标，X[mt]代表X轴机床坐标，其他轴类似

### $m/$v
- $m/$v是在["测量"](控件功能及语法/menu.html#menuTeach)、["加输入"](控件功能及语法/menu.html#menuTeach)、["部分表达式"](控件功能及语法/menu.html#menuTeach)三个菜单中使用的两个变量
- $v是当前捕获光标的teach控件的编辑值
- $m是在teach控件中使用的变量，其值与$v相关，详细用法见上面三个菜单的教程

## <span id="expressionRules">表达式规则</span>
- 表达式操作符支持加减乘法除和小括号"+"、"-"、"*"、"/"、"()"。
- 表达式支持的变量为坐标、系统参数、PLC参数、宏变量
- 通过中括号"[]"来表示地址的属性，如D100[u8]，表示PLC参数D100,D100的属性为u8。
- 需要描述的属性为：
    - PLC参数属性u8、s8、u16、s16、u32、s32, 如D100[u8]，表示PLC参数D100,D100的属性为u8。 
    - 坐标属性abs、mt,如X[abs], 表示X绝对坐标
    - 由于XYC地址既可以做PLC参数，也可以做坐标轴，使用XYC地址时必须加入属性
- 表达式举例：#500+X[abs]*2-K10[u8]
- plc赋值表达式溢出时会自动强制转换为当前的类型，如F5210[u8]=F5210[u8]+ 1,当值超过255时，F5210为8位，会转为0
当#530=F5210[u8]=F5210[u8]+ 1,F5120[u8]溢出时，#530也会被赋值为溢出后的值