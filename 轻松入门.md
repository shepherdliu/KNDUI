# 轻松入门

## KUI界面组成

- 自定义界面的开发语言为python，所以界面的开发程序符合python的语法规则，我们提供的界面定制API简单易用，读者可以在python零基础的情况下直接学习使用。但为了更高效的开发、更少的发生基本的语法错误(例如，编程中所有的标点符号都是英文输入法下的符号，否则报错，程序无法运行)，建议对python进行"简单"的学习
- 自定义界面由一个或多个页面组成，通过自定义菜单切换到不同的页面。可以在所有页面定义之前为页面中的控件定义基本属性，包括字体颜色、大小、对齐方式等

###  页面
- 每个页面都有一个id号，页面下可以定制各种控件和菜单(控件、菜单仅为某一页面所有)
- 页面通过设置行数和列数来布局，可以在页中单独定义此页中控件的基本属性

###  控件
- 每个控件都可以有一个id号，用于标识控件，有些控件由于其功能的特殊性必须有id，有些可以没有
- 控件的属性由参数设定，有些有默认值的属性如果想使用默认值可省略相应的参数

###  菜单
- 菜单分布在页面的最下方，通过数控系统的软按键操作
- 有些菜单的功能是独立的，有些菜单要和相应的控件配合使用

## 例子
- 下面通过一个简单的例子说明自定义界面程序的组成和基本语法，下面的代码由3行#分割成4部分，每一部分的实现的功能在第一行进行注释。下面的文件可以在上面下载的工具包中找到，名称为"QingSong.py"。在Pycharm中打开并运行此文件，在当前文件夹下的_output文件夹中找到kui文件，用U盘输入数控系统中查看界面
```python
# coding: utf-8
# 导入KUI界面开发包，必须
from knd_ui import *
##############################################################
# 自定义界面的全局设置部分，设定控件的默认属性、界面输入数控系统中的位置、根目录菜单等

# 设置预览时界面的长度和宽度，仅在预览时有用，与数控系统真实的型号无关。
# 参数title为True时不显示标题栏，为False时显示标题栏
set_size(800, 600, title=False)

# 此处为自定义界面中的控件设定一些默认设置，良好的默认设置可以简化后面的控件定义
# 在定义页面之前设置所有控件默认字体颜色，字体大小，对齐方式
default_attr(白色, f24x16, 左对齐)
# 设置所有页面中的静态字符控件默认字体颜色，字体大小，对齐方式
default_text_attr(绿色, f24x16, 居中)
# 设置所有页面中的数据控件默认字体颜色，字体大小
default_data_attr(黄色, f20x10)

# 此自定义界面在数控系统的"位置"页面下
kui_id(位置)
# 此自定义界面根目录菜单名称为"轻松入门"
menu("轻松入门")

##############################################################
# 定义界面部分，此部分定义了界面有多少个页面，每个页面中有多少个控件，菜单，页面布局等
# 此页的id为"main"，共有10行，5列。
with page(10, 5, id="main"):
    text("[绝对坐标]", (1, 1))
    text("X", (2, 1))
    text("Z", (3, 1))

    coor("X", (2, 2), 绝对)
    coor("Z", (3, 2), 绝对)

    text("[宏变量]", (4, 1))
    text("#509", (5, 1))
    text("#510", (6, 1))
    text("#511", (7, 1))

    data("#509", (5, 2))
    data("#510", (6, 2))
    data("#511", (7, 2))

# 可以独立操作的菜单，按下菜单切换到其他页面
    menu("Teach", "TeachPageID")
    menu("Data", "DataPageID")

# 这是另一个页面，id为"TeachPageID"，共有5行5列，text和data为此页控件设定了自己的默认属性
with page(5, 5, id="TeachPageID", text=(红色, f32x24, 居中), data=(紫色, f32x16)):
    text("X", (2, 2))
    text("Y", (3, 2))
    text("Z", (4, 2))
    teach("#501", "X", (2, 3), 浅绿色, group=1)
    teach("#502", "Y", (3, 3), 浅绿色, group=1)
    teach("#503", "Z", (4, 3), 浅绿色, group=1)

# 需要和上面的控件配合使用的菜单，按下菜单完成"示教"功能
    menu("示教组1", 示教机床(group=1))

# 此页面中没有控件，只有两个菜单，按下菜单切换到其他页面
with page(10, 5, id="DataPageID"):
    menu("Teach", "TeachPageID")
    menu("main", "main")

##############################################################
# 此部分为生成自定义界面文件部分，可以在计算机上生成文件再用U盘导入数控系统中，也可以直接通过网线传入数控系统，同时支持在计算机中预览自定义界面
# 在当前目录下新建_output文件夹，生成kui文件
generate(__file__)
# 直接通过网线传入数控系统中。"××××××××"中填入数控系统的IP地址，格式192.168.7.201
# download(__file__, "××××××××")

# 预览
# preview(__file__)
```