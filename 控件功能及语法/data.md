## data

- 功能
    - 显示、修改系统数据和KUI脚本的自定义变量
- 支持的数据
    - 诊断参数 K/D/T/C/X/Y/R/S/F/G，支持位型/字节型参数
    - 宏变量 #
    - 系统参数 格式可为P414， P415-1，P1105.1-1
    - 表达式 如(K12[u8]+#500)/2，会显示诊断参数K12加上#500后除以2得到的值。
- 参数
    - 描述的数据(诊断参数的非位型数据可以设置数据类型，共6种，u8/u6/u32表示无符号，s8/s6/s32表示有符号位，默认为u8)，数据分为带{}和不带{}两种
        - 带{}的数据：此类数据为KUI脚本的自定义变量，变量名称可以为字母或字母+数字
        - 不带{}的数据：此类数据为与名称相对应的系统数据。如：K0.0，为K区0号参数的第0位
    - (起始行，起始列, 占几行（默认占1行）,占几列（默认占1列）)
    - 颜色
    - 字体大小
    - 读写模式，默认是"确认"模式(可以为"只读"或"确认"，表达式无法赋值，只能是"只读"的)
    - 线框格式：默认为不隐藏，在此处写入"隐藏"则会隐藏控件的线框
    - enable表达式 当该表达式值不为0时该控件才可以修改，等于0时控件不捕获光标，故不能修改。若不设置该参数，则可以修改(此参数仅在"确认"模式下有用)
    - id 控件名称，用于标识控件，控件名称不可重复，如果不需要可以不设置
    - choices参数为对data控件的扩展，语法为choices={54: "这是G54"，55: "这是G55"}，大括号中每一个被逗号分隔的单元都应该是一个"键--值对"，冒号前面的为"键"，后面的为"值"，大括号中可以包含若干个"键--值对"
    	- 当模式为只读时，控件显示与数据相等的"键"对应的"值"，当数据不与任何"键"相等时显示数据的值
    	- 当模式为确认时，控件显示一个选择文本框，文本框包含大括号里面所有的"值"，选择某个"值"会将相对应的"键"值赋给数据，若参数action有效会同时响应相关动作。数据和大括号里面的所有"键"值都不相等时文本框显示"无效"两个字
    - action为响应动作，可以通过设置action参数实现为data控件输入值时执行适当的动作，action取值可以为"运行脚本"、"运行脚本文件"、"运行MDI"
        - 运行脚本：语法为：action=运行脚本("xxx")，括号中的字符串为符合KUI脚本语法的若干语句。当操作者手动改变控件数据值时，将执行这些语句
        - 运行脚本文件：语法为：action=运行脚本文件("xxx.prg")，括号中的字符串为KUI脚本文件名称，文件需放到当前目录下。当操作者手动改变控件数据值时，将执行此文件
        - 运行MDI：语法为：action=运行MDI，需要与choices参数联合使用，在选择文本框中选择相应"值"时会在MDI模式下执行"值"字符串，如果不符合语法将报错
    - left 左边控件, right右边控件, prev上一控件, next下一控件(对应数控系统面板上的"左"/"右"/"上"/"下"按键)，当需要设置控件的光标顺序时设置左右上下控件名称即可，4个参数可以设置0个或多个
- 举例 
```python
data("#530", (1, 1), f24x12, 只读)    #宏变量#530只读，位于第1行第1列，字符大小为f24x12
data("K200", (1, 2), f20x10, 确认, enable="#100")    #PLC参数k200可写，写入时需确认，当#100不为0时才可以修改
data("D12[u16]*2", (1, 3), f20x10)   #表达式D12*2，第1行第3列，字符大小为f20x10
data("{v2}", (1, 4), f20x10)   #变量名为v2，第1行第4列，字符大小为f20x10,可将此变量用于KUI脚本文件或语句中
data("{AL}", (3, 1), f20x10)   #变量名为AL，第3行第1列，字符大小为f20x10,可将此变量用于KUI脚本文件或语句中
data("D1", (3, 2), 只读, choices={54: "这是G54", 55: "这是G55", 56: "这是G56", 57: "这是G57"})  #以只读方式显示数字对应的字符串，当D1=54时，显示字符串"这是G54"，依此类推，当D1不等于任意"键"时将显示D1的值
data("#500", (3, 3), 浅灰色, f24x12, choices={54: "G54", 55: "G55", 56: "G56", 57: "G57"}, action=运行MDI)  #以选择框的方式显示#500对应的字符串，#500与某一"键"相等时显示对应的"值"，不与任何"键"相等时显示"无效"。通过选择框的下拉选项选择某一"值"时将对应的"键"值赋给#500，并在MDI模式下执行"值"。选择"G54"时将切换到工件坐标G54
data("#501", (3, 4), action=运行脚本文件("O0001.prg")) #当手动改变宏变量#501的值时将执行文件"O0001.prg"中的语句，语句中可以包含data控件中的"v2"和"AL"，语法见KUI脚本语法
```
- 注
    - 诊断参数可以通过Kxx[type]来设置，如K8[u8],表示K区8号参数，无符号8位，这时参数type数据类型会被忽略